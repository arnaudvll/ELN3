A51 MACRO ASSEMBLER  LIB_PROJ_ELN3                                                        06/11/2021 11:54:54 PAGE     1


MACRO ASSEMBLER A51 V8.2.7.0
OBJECT MODULE PLACED IN Lib_Proj_ELN3.OBJ
ASSEMBLER INVOKED BY: C:\Keil_v5\C51\BIN\A51.EXE Lib_Proj_ELN3.asm NOMOD51 SET(SMALL) DEBUG EP

LOC  OBJ            LINE     SOURCE

                       1     ;******************************************************************************
                       2     ;Lib_TP_SM.asm
                       3     
                       4     ;   Ce fichier contient des définitions et des routines utiles au TP SM4
                       5     ;   Aucune modification n'est nécessaire.
                       6     ;   Il suffit d'ajouter ce fichier à votre Projet
                       7     ;   TARGET MCU  :  C8051F020 
                       8     ;******************************************************************************
                       9     ;$include (C8051F020.INC) ; Register definition file.
                +1    10     ;-----------------------------------------------------------------------------
                +1    11     ;       
                +1    12     ;       
                +1    13     ;
                +1    14     ;
                +1    15     ;       FILE NAME       : C8051F020.INC 
                +1    16     ;       TARGET MCUs     : C8051F020, 'F021, 'F022, 'F023 
                +1    17     ;       DESCRIPTION     : Register/bit definitions for the C8051F02x product family.  
                +1    18     ;
                +1    19     ;       REVISION 1.0    
                +1    20     ;
                +1    21     ;-----------------------------------------------------------------------------
                +1    22     ;REGISTER DEFINITIONS
                +1    23     ;
  0080          +1    24     P0       DATA  080H   ; PORT 0
  0081          +1    25     SP       DATA  081H   ; STACK POINTER
  0082          +1    26     DPL      DATA  082H   ; DATA POINTER - LOW BYTE
  0083          +1    27     DPH      DATA  083H   ; DATA POINTER - HIGH BYTE
  0084          +1    28     P4       DATA  084H   ; PORT 4
  0085          +1    29     P5       DATA  085H   ; PORT 5
  0086          +1    30     P6       DATA  086H   ; PORT 6
  0087          +1    31     PCON     DATA  087H   ; POWER CONTROL
  0088          +1    32     TCON     DATA  088H   ; TIMER CONTROL
  0089          +1    33     TMOD     DATA  089H   ; TIMER MODE
  008A          +1    34     TL0      DATA  08AH   ; TIMER 0 - LOW BYTE
  008B          +1    35     TL1      DATA  08BH   ; TIMER 1 - LOW BYTE
  008C          +1    36     TH0      DATA  08CH   ; TIMER 0 - HIGH BYTE
  008D          +1    37     TH1      DATA  08DH   ; TIMER 1 - HIGH BYTE
  008E          +1    38     CKCON    DATA  08EH   ; CLOCK CONTROL
  008F          +1    39     PSCTL    DATA  08FH   ; PROGRAM STORE R/W CONTROL
  0090          +1    40     P1       DATA  090H   ; PORT 1
  0091          +1    41     TMR3CN   DATA  091H   ; TIMER 3 CONTROL
  0092          +1    42     TMR3RLL  DATA  092H   ; TIMER 3 RELOAD REGISTER - LOW BYTE
  0093          +1    43     TMR3RLH  DATA  093H   ; TIMER 3 RELOAD REGISTER - HIGH BYTE
  0094          +1    44     TMR3L    DATA  094H   ; TIMER 3 - LOW BYTE
  0095          +1    45     TMR3H    DATA  095H   ; TIMER 3 - HIGH BYTE
  0096          +1    46     P7       DATA  096H   ; PORT 7
  0098          +1    47     SCON0    DATA  098H   ; SERIAL PORT 0 CONTROL
  0099          +1    48     SBUF0    DATA  099H   ; SERIAL PORT 0 BUFFER
  009A          +1    49     SPI0CFG  DATA  09AH   ; SERIAL PERIPHERAL INTERFACE 0 CONFIGURATION
  009B          +1    50     SPI0DAT  DATA  09BH   ; SERIAL PERIPHERAL INTERFACE 0 DATA
  009C          +1    51     ADC1     DATA  09CH   ; ADC 1 DATA
  009D          +1    52     SPI0CKR  DATA  09DH   ; SERIAL PERIPHERAL INTERFACE 0 CLOCK RATE CONTROL
  009E          +1    53     CPT0CN   DATA  09EH   ; COMPARATOR 0 CONTROL
  009F          +1    54     CPT1CN   DATA  09FH   ; COMPARATOR 1 CONTROL 
  00A0          +1    55     P2       DATA  0A0H   ; PORT 2
  00A1          +1    56     EMI0TC   DATA  0A1H   ; EMIF TIMING CONTROL
  00A3          +1    57     EMI0CF   DATA  0A3H   ; EXTERNAL MEMORY INTERFACE (EMIF) CONFIGURATION
  00A4          +1    58     P0MDOUT  DATA  0A4H   ; PORT 0 OUTPUT MODE CONFIGURATION
A51 MACRO ASSEMBLER  LIB_PROJ_ELN3                                                        06/11/2021 11:54:54 PAGE     2

  00A5          +1    59     P1MDOUT  DATA  0A5H   ; PORT 1 OUTPUT MODE CONFIGURATION
  00A6          +1    60     P2MDOUT  DATA  0A6H   ; PORT 2 OUTPUT MODE CONFIGURATION
  00A7          +1    61     P3MDOUT  DATA  0A7H   ; PORT 3 OUTPUT MODE CONFIGURATION
  00A8          +1    62     IE       DATA  0A8H   ; INTERRUPT ENABLE
  00A9          +1    63     SADDR0   DATA  0A9H   ; SERIAL PORT 0 SLAVE ADDRESS
  00AA          +1    64     ADC1CN  DATA  0AAH   ; ADC 1 CONTROL
  00AB          +1    65     ADC1CF   DATA  0ABH   ; ADC 1 ANALOG MUX CONFIGURATION
  00AC          +1    66     AMX1SL   DATA  0ACH   ; ADC 1 ANALOG MUX CHANNEL SELECT
  00AD          +1    67     P3IF     DATA  0ADH   ; PORT 3 EXTERNAL INTERRUPT FLAGS
  00AE          +1    68     SADEN1   DATA  0AEH   ; SERIAL PORT 1 SLAVE ADDRESS MASK
  00AF          +1    69     EMI0CN   DATA  0AFH   ; EXTERNAL MEMORY INTERFACE CONTROL
  00B0          +1    70     P3       DATA  0B0H   ; PORT 3
  00B1          +1    71     OSCXCN   DATA  0B1H   ; EXTERNAL OSCILLATOR CONTROL
  00B2          +1    72     OSCICN   DATA  0B2H   ; INTERNAL OSCILLATOR CONTROL
  00B5          +1    73     P74OUT   DATA  0B5H   ; PORTS 4 - 7 OUTPUT MODE
  00B6          +1    74     FLSCL    DATA  0B6H   ; FLASH MEMORY TIMING PRESCALER
  00B7          +1    75     FLACL    DATA  0B7H   ; FLASH ACESS LIMIT 
  00B8          +1    76     IP       DATA  0B8H   ; INTERRUPT PRIORITY
  00B9          +1    77     SADEN0   DATA  0B9H   ; SERIAL PORT 0 SLAVE ADDRESS MASK
  00BA          +1    78     AMX0CF   DATA  0BAH   ; ADC 0 MUX CONFIGURATION
  00BB          +1    79     AMX0SL   DATA  0BBH   ; ADC 0 MUX CHANNEL SELECTION
  00BC          +1    80     ADC0CF   DATA  0BCH   ; ADC 0 CONFIGURATION
  00BD          +1    81     P1MDIN   DATA  0BDH   ; PORT 1 INPUT MODE
  00BE          +1    82     ADC0L    DATA  0BEH   ; ADC 0 DATA - LOW BYTE
  00BF          +1    83     ADC0H    DATA  0BFH   ; ADC 0 DATA - HIGH BYTE 
  00C0          +1    84     SMB0CN   DATA  0C0H   ; SMBUS 0 CONTROL
  00C1          +1    85     SMB0STA  DATA  0C1H   ; SMBUS 0 STATUS
  00C2          +1    86     SMB0DAT  DATA  0C2H   ; SMBUS 0 DATA 
  00C3          +1    87     SMB0ADR  DATA  0C3H   ; SMBUS 0 SLAVE ADDRESS
  00C4          +1    88     ADC0GTL  DATA  0C4H   ; ADC 0 GREATER-THAN REGISTER - LOW BYTE
  00C5          +1    89     ADC0GTH  DATA  0C5H   ; ADC 0 GREATER-THAN REGISTER - HIGH BYTE
  00C6          +1    90     ADC0LTL  DATA  0C6H   ; ADC 0 LESS-THAN REGISTER - LOW BYTE
  00C7          +1    91     ADC0LTH  DATA  0C7H   ; ADC 0 LESS-THAN REGISTER - HIGH BYTE
  00C8          +1    92     T2CON    DATA  0C8H   ; TIMER 2 CONTROL
  00C9          +1    93     T4CON    DATA  0C9H   ; TIMER 4 CONTROL
  00CA          +1    94     RCAP2L   DATA  0CAH   ; TIMER 2 CAPTURE REGISTER - LOW BYTE
  00CB          +1    95     RCAP2H   DATA  0CBH   ; TIMER 2 CAPTURE REGISTER - HIGH BYTE
  00CC          +1    96     TL2      DATA  0CCH   ; TIMER 2 - LOW BYTE
  00CD          +1    97     TH2      DATA  0CDH   ; TIMER 2 - HIGH BYTE
  00CF          +1    98     SMB0CR   DATA  0CFH   ; SMBUS 0 CLOCK RATE
  00D0          +1    99     PSW      DATA  0D0H   ; PROGRAM STATUS WORD
  00D1          +1   100     REF0CN   DATA  0D1H   ; VOLTAGE REFERENCE 0 CONTROL
  00D2          +1   101     DAC0L    DATA  0D2H   ; DAC 0 REGISTER - LOW BYTE
  00D3          +1   102     DAC0H    DATA  0D3H   ; DAC 0 REGISTER - HIGH BYTE
  00D4          +1   103     DAC0CN   DATA  0D4H   ; DAC 0 CONTROL
  00D5          +1   104     DAC1L    DATA  0D5H   ; DAC 1 REGISTER - LOW BYTE
  00D6          +1   105     DAC1H    DATA  0D6H   ; DAC 1 REGISTER - HIGH BYTE
  00D7          +1   106     DAC1CN   DATA  0D7H   ; DAC 1 CONTROL
  00D8          +1   107     PCA0CN   DATA  0D8H   ; PCA 0 COUNTER CONTROL
  00D9          +1   108     PCA0MD   DATA  0D9H   ; PCA 0 COUNTER MODE
  00DA          +1   109     PCA0CPM0 DATA  0DAH   ; CONTROL REGISTER FOR PCA 0 MODULE 0
  00DB          +1   110     PCA0CPM1 DATA  0DBH   ; CONTROL REGISTER FOR PCA 0 MODULE 1
  00DC          +1   111     PCA0CPM2 DATA  0DCH   ; CONTROL REGISTER FOR PCA 0 MODULE 2
  00DD          +1   112     PCA0CPM3 DATA  0DDH   ; CONTROL REGISTER FOR PCA 0 MODULE 3
  00DE          +1   113     PCA0CPM4 DATA  0DEH   ; CONTROL REGISTER FOR PCA 0 MODULE 4
  00E0          +1   114     ACC      DATA  0E0H   ; ACCUMULATOR
  00E1          +1   115     XBR0     DATA  0E1H   ; DIGITAL CROSSBAR CONFIGURATION REGISTER 0
  00E2          +1   116     XBR1     DATA  0E2H   ; DIGITAL CROSSBAR CONFIGURATION REGISTER 1
  00E3          +1   117     XBR2     DATA  0E3H   ; DIGITAL CROSSBAR CONFIGURATION REGISTER 2
  00E4          +1   118     RCAP4L   DATA  0E4H   ; TIMER 4 CAPTURE REGISTER - LOW BYTE
  00E5          +1   119     RCAP4H   DATA  0E5H   ; TIMER 4 CAPTURE REGISTER - HIGH BYTE
  00E6          +1   120     EIE1     DATA  0E6H   ; EXTERNAL INTERRUPT ENABLE 1
  00E7          +1   121     EIE2     DATA  0E7H   ; EXTERNAL INTERRUPT ENABLE 2
  00E8          +1   122     ADC0CN   DATA  0E8H   ; ADC 0 CONTROL
  00E9          +1   123     PCA0L    DATA  0E9H   ; PCA 0 TIMER - LOW BYTE
  00EA          +1   124     PCA0CPL0 DATA  0EAH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 0 - LOW BYTE
A51 MACRO ASSEMBLER  LIB_PROJ_ELN3                                                        06/11/2021 11:54:54 PAGE     3

  00EB          +1   125     PCA0CPL1 DATA  0EBH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 1 - LOW BYTE
  00EC          +1   126     PCA0CPL2 DATA  0ECH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 2 - LOW BYTE
  00ED          +1   127     PCA0CPL3 DATA  0EDH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 3 - LOW BYTE
  00EE          +1   128     PCA0CPL4 DATA  0EEH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 4 - LOW BYTE
  00EF          +1   129     RSTSRC   DATA  0EFH   ; RESET SOURCE 
  00F0          +1   130     B        DATA  0F0H   ; B REGISTER
  00F1          +1   131     SCON1    DATA  0F1H   ; SERIAL PORT 1 CONTROL
  00F2          +1   132     SBUF1    DATA  0F2H   ; SERAIL PORT 1 DATA
  00F3          +1   133     SADDR1   DATA  0F3H   ; SERAIL PORT 1 
  00F4          +1   134     TL4      DATA  0F4H   ; TIMER 4 DATA - LOW BYTE
  00F5          +1   135     TH4      DATA  0F5H   ; TIMER 4 DATA - HIGH BYTE
  00F6          +1   136     EIP1     DATA  0F6H   ; EXTERNAL INTERRUPT PRIORITY REGISTER 1
  00F7          +1   137     EIP2     DATA  0F7H   ; EXTERNAL INTERRUPT PRIORITY REGISTER 2
  00F8          +1   138     SPI0CN   DATA  0F8H   ; SERIAL PERIPHERAL INTERFACE 0 CONTROL 
  00F9          +1   139     PCA0H    DATA  0F9H   ; PCA 0 TIMER - HIGH BYTE
  00FA          +1   140     PCA0CPH0 DATA  0FAH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 0 - HIGH BYTE
  00FB          +1   141     PCA0CPH1 DATA  0FBH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 1 - HIGH BYTE
  00FC          +1   142     PCA0CPH2 DATA  0FCH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 2 - HIGH BYTE
  00FD          +1   143     PCA0CPH3 DATA  0FDH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 3 - HIGH BYTE
  00FE          +1   144     PCA0CPH4 DATA  0FEH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 4 - HIGH BYTE
  00FF          +1   145     WDTCN    DATA  0FFH   ; WATCHDOG TIMER CONTROL 
                +1   146     ;
                +1   147     ;------------------------------------------------------------------------------
                +1   148     ;BIT DEFINITIONS
                +1   149     ;
                +1   150     ; TCON 88H
  0088          +1   151     IT0      BIT   TCON.0 ; EXT. INTERRUPT 0 TYPE
  0089          +1   152     IE0      BIT   TCON.1 ; EXT. INTERRUPT 0 EDGE FLAG
  008A          +1   153     IT1      BIT   TCON.2 ; EXT. INTERRUPT 1 TYPE
  008B          +1   154     IE1      BIT   TCON.3 ; EXT. INTERRUPT 1 EDGE FLAG
  008C          +1   155     TR0      BIT   TCON.4 ; TIMER 0 ON/OFF CONTROL
  008D          +1   156     TF0      BIT   TCON.5 ; TIMER 0 OVERFLOW FLAG
  008E          +1   157     TR1      BIT   TCON.6 ; TIMER 1 ON/OFF CONTROL
  008F          +1   158     TF1      BIT   TCON.7 ; TIMER 1 OVERFLOW FLAG
                +1   159     ;
                +1   160     ; SCON0 98H
  0098          +1   161     RI       BIT   SCON0.0 ; RECEIVE INTERRUPT FLAG
  0099          +1   162     TI       BIT   SCON0.1 ; TRANSMIT INTERRUPT FLAG
  009A          +1   163     RB8      BIT   SCON0.2 ; RECEIVE BIT 8
  009B          +1   164     TB8      BIT   SCON0.3 ; TRANSMIT BIT 8
  009C          +1   165     REN      BIT   SCON0.4 ; RECEIVE ENABLE
  009D          +1   166     SM2      BIT   SCON0.5 ; MULTIPROCESSOR COMMUNICATION ENABLE
  009E          +1   167     SM1      BIT   SCON0.6 ; SERIAL MODE CONTROL BIT 1
  009F          +1   168     SM0      BIT   SCON0.7 ; SERIAL MODE CONTROL BIT 0
                +1   169     ; 
                +1   170     ; IE A8H
  00A8          +1   171     EX0      BIT   IE.0   ; EXTERNAL INTERRUPT 0 ENABLE
  00A9          +1   172     ET0      BIT   IE.1   ; TIMER 0 INTERRUPT ENABLE
  00AA          +1   173     EX1      BIT   IE.2   ; EXTERNAL INTERRUPT 1 ENABLE
  00AB          +1   174     ET1      BIT   IE.3   ; TIMER 1 INTERRUPT ENABLE
  00AC          +1   175     ES       BIT   IE.4   ; SERIAL PORT INTERRUPT ENABLE
  00AD          +1   176     ET2      BIT   IE.5   ; TIMER 2 INTERRUPT ENABLE
  00AF          +1   177     EA       BIT   IE.7   ; GLOBAL INTERRUPT ENABLE
                +1   178     ;
                +1   179     ; IP B8H
  00B8          +1   180     PX0      BIT   IP.0   ; EXTERNAL INTERRUPT 0 PRIORITY
  00B9          +1   181     PT0      BIT   IP.1   ; TIMER 0 PRIORITY
  00BA          +1   182     PX1      BIT   IP.2   ; EXTERNAL INTERRUPT 1 PRIORITY
  00BB          +1   183     PT1      BIT   IP.3   ; TIMER 1 PRIORITY
  00BC          +1   184     PS       BIT   IP.4   ; SERIAL PORT PRIORITY
  00BD          +1   185     PT2      BIT   IP.5   ; TIMER 2 PRIORITY
                +1   186     ;
                +1   187     ; SMB0CN C0H
  00C0          +1   188     SMBTOE   BIT   SMB0CN.0 ; SMBUS 0 TIMEOUT ENABLE
  00C1          +1   189     SMBFTE   BIT   SMB0CN.1 ; SMBUS 0 FREE TIMER ENABLE
  00C2          +1   190     AA       BIT   SMB0CN.2 ; SMBUS 0 ASSERT/ACKNOWLEDGE FLAG
A51 MACRO ASSEMBLER  LIB_PROJ_ELN3                                                        06/11/2021 11:54:54 PAGE     4

  00C3          +1   191     SI       BIT   SMB0CN.3 ; SMBUS 0 INTERRUPT PENDING FLAG
  00C4          +1   192     STO      BIT   SMB0CN.4 ; SMBUS 0 STOP FLAG
  00C5          +1   193     STA      BIT   SMB0CN.5 ; SMBUS 0 START FLAG
  00C6          +1   194     ENSMB    BIT   SMB0CN.6 ; SMBUS 0 ENABLE 
                +1   195     ;
                +1   196     ; T2CON C8H
  00C8          +1   197     CPRL2    BIT   T2CON.0 ; CAPTURE OR RELOAD SELECT
  00C9          +1   198     CT2      BIT   T2CON.1 ; TIMER OR COUNTER SELECT
  00CA          +1   199     TR2      BIT   T2CON.2 ; TIMER 2 ON/OFF CONTROL
  00CB          +1   200     EXEN2    BIT   T2CON.3 ; TIMER 2 EXTERNAL ENABLE FLAG
  00CC          +1   201     TCLK     BIT   T2CON.4 ; TRANSMIT CLOCK FLAG
  00CD          +1   202     RCLK     BIT   T2CON.5 ; RECEIVE CLOCK FLAG
  00CE          +1   203     EXF2     BIT   T2CON.6 ; EXTERNAL FLAG
  00CF          +1   204     TF2      BIT   T2CON.7 ; TIMER 2 OVERFLOW FLAG
                +1   205     ;
                +1   206     ; PSW D0H
  00D0          +1   207     P        BIT   PSW.0  ; ACCUMULATOR PARITY FLAG
  00D1          +1   208     F1       BIT   PSW.1  ; USER FLAG 1
  00D2          +1   209     OV       BIT   PSW.2  ; OVERFLOW FLAG
  00D3          +1   210     RS0      BIT   PSW.3  ; REGISTER BANK SELECT 0
  00D4          +1   211     RS1      BIT   PSW.4  ; REGISTER BANK SELECT 1
  00D5          +1   212     F0       BIT   PSW.5  ; USER FLAG 0
  00D6          +1   213     AC       BIT   PSW.6  ; AUXILIARY CARRY FLAG
  00D7          +1   214     CY       BIT   PSW.7  ; CARRY FLAG
                +1   215     ;
                +1   216     ; PCA0CN D8H
  00D8          +1   217     CCF0     BIT   PCA0CN.0 ; PCA 0 MODULE 0 INTERRUPT FLAG
  00D9          +1   218     CCF1     BIT   PCA0CN.1 ; PCA 0 MODULE 1 INTERRUPT FLAG
  00DA          +1   219     CCF2     BIT   PCA0CN.2 ; PCA 0 MODULE 2 INTERRUPT FLAG
  00DB          +1   220     CCF3     BIT   PCA0CN.3 ; PCA 0 MODULE 3 INTERRUPT FLAG
  00DC          +1   221     CCF4     BIT   PCA0CN.4 ; PCA 0 MODULE 4 INTERRUPT FLAG
  00DE          +1   222     CR       BIT   PCA0CN.6 ; PCA 0 COUNTER RUN CONTROL BIT
  00DF          +1   223     CF       BIT   PCA0CN.7 ; PCA 0 COUNTER OVERFLOW FLAG
                +1   224     ;
                +1   225     ; ADC0CN E8H
  00E8          +1   226     AD0LJST  BIT   ADC0CN.0 ; ADC 0 RIGHT JUSTIFY DATA BIT
  00E9          +1   227     AD0WINT  BIT   ADC0CN.1 ; ADC 0 WINDOW COMPARE INTERRUPT FLAG
  00EA          +1   228     AD0STM0  BIT   ADC0CN.2 ; ADC 0 START OF CONVERSION MODE BIT 0
  00EB          +1   229     AD0STM1  BIT   ADC0CN.3 ; ADC 0 START OF CONVERSION MODE BIT 1
  00EC          +1   230     AD0BUSY  BIT   ADC0CN.4 ; ADC 0 BUSY FLAG
  00ED          +1   231     AD0INT   BIT   ADC0CN.5 ; ADC 0 CONVERISION COMPLETE INTERRUPT FLAG 
  00EE          +1   232     AD0TM    BIT   ADC0CN.6 ; ADC 0 TRACK MODE
  00EF          +1   233     AD0EN    BIT   ADC0CN.7 ; ADC 0 ENABLE
                +1   234     ;
                +1   235     ; SPI0CN F8H
  00F8          +1   236     SPIEN    BIT   SPI0CN.0 ; SPI 0 SPI ENABLE
  00F9          +1   237     MSTEN    BIT   SPI0CN.1 ; SPI 0 MASTER ENABLE
  00FA          +1   238     SLVSEL   BIT   SPI0CN.2 ; SPI 0 SLAVE SELECT
  00FB          +1   239     TXBSY    BIT   SPI0CN.3 ; SPI 0 TX BUSY FLAG
  00FC          +1   240     RXOVRN   BIT   SPI0CN.4 ; SPI 0 RX OVERRUN FLAG
  00FD          +1   241     MODF     BIT   SPI0CN.5 ; SPI 0 MODE FAULT FLAG
  00FE          +1   242     WCOL     BIT   SPI0CN.6 ; SPI 0 WRITE COLLISION FLAG
  00FF          +1   243     SPIF     BIT   SPI0CN.7 ; SPI 0 INTERRUPT FLAG
                     244     ;$include (Proj_ELN3.INC) 
                +1   245     ;-----------------------------------------------------------------------------
                +1   246     ;
                +1   247     ;       FILE NAME       : Proj_ELN3.INC 
                +1   248     ;       
                +1   249     ;       DESCRIPTION     : Register/bit definitions for the ELN3 project.  
                +1   250     ;
                +1   251     ;       REVISION 1.0    
                +1   252     ;
                +1   253     ;-----------------------------------------------------------------------------
                +1   254     ;REGISTER DEFINITIONS
                +1   255     ;------------------------------------------------------------------------------
                +1   256     
A51 MACRO ASSEMBLER  LIB_PROJ_ELN3                                                        06/11/2021 11:54:54 PAGE     5

                +1   257     ;-----------------------------------------------------------------------------
                +1   258     ;Address DEFINITIONS
                +1   259     ;------------------------------------------------------------------------------
  1000          +1   260     Reg_AFF  XDATA 1000H
  1001          +1   261     Reg_GCP  XDATA 1001H
  4000          +1   262     Reg_GCA  XDATA 4000H
  4001          +1   263     Reg_GDD  XDATA 4001H
  1002          +1   264     Reg_MISC XDATA 1002H
                +1   265             
                +1   266     ;------------------------------------------------------------------------------
                +1   267     ;BIT DEFINITIONS for Application
                +1   268     ;-----------------------------------------------------------------------------
  0096          +1   269     GREEN_LED      BIT  P1.6              ; Port I/O pin connected to Green LED.
                     270     
                     271     ;******************************************************************************
                     272     ;Declaration des variables et fonctions publiques
                     273     ;******************************************************************************
                     274     PUBLIC   Config_Timer3_BT_10ms
                     275     PUBLIC   __tempo
                     276     PUBLIC   Init_pgm
                     277     PUBLIC   Config_UART0
                     278     PUBLIC   Putchar_UART0
                     279     PUBLIC  Getchar_UART0
                     280     PUBLIC  Send_Char
                     281     ;******************************************************************************
                     282     ;Consignes de segmentation
                     283     ;******************************************************************************
                     284     zone_data     segment  DATA
----                 285                   rseg     zone_data
0000                 286     exemple:       DS       1
                     287     
                     288     Lib_Proj_ELN3     segment  CODE
----                 289                               rseg     Lib_Proj_ELN3     ; Switch to this code segment.
                     290                   using    0             ; Specify register bank for the following
                     291                                          ; program code.
                     292     
                     293     ;******************************************************************************
                     294     ;Initialisations de la mémoire code - Stockage de constante
                     295     ;******************************************************************************
                     296     
                     297     ;******************************************************************************
                     298     ;Init_pgm
                     299     ;
                     300     ; Description: Initialisations de périphériques
                     301     ;              Fonctionnalités Microcontroleur
                     302     ;              Configuration accès mémoire sur P4,5,6 et 7
                     303     ;              Acces en mode multiplexé.
                     304     ;              Sorties en Push-Pull sauf pour P4 en Drain ouvert
                     305     ;              
                     306     
                     307     ; Paramètres d'entrée: Aucun
                     308     ; Paramètres de sortie: Aucun
                     309     ; Registres modifiés: Beaucoup!!!  En fait les registres de config du
                     310     ;                                  circuit 
                     311     ;                                 
                     312     ; Pile: 0 octet (sauf pour l'appel de la sous -routine)
                     313     ;******************************************************************************
0000                 314     Init_pgm:
0000 75FFDE          315              mov WDTCN, #0DEh    ; Disable WDT
0003 75FFAD          316              mov WDTCN, #0ADh
                     317     ; Configure the XBRn Registers
                     318         ; P0.0  -  TX0 (UART0), Push-Pull,  Digital
                     319         ; P0.1  -  RX0 (UART0), Open-Drain, Digital
                     320         ; P0.2  -  TX1 (UART1), Push-Pull,  Digital
                     321         ; P0.3  -  RX1 (UART1), Open-Drain, Digital
                     322         ; P0.4  -  INT0 (Tmr0), Open-Drain, Digital
A51 MACRO ASSEMBLER  LIB_PROJ_ELN3                                                        06/11/2021 11:54:54 PAGE     6

                     323         ; P0.5  -  INT1 (Tmr1), Open-Drain, Digital
                     324         ; P0.6  -  SYSCLK,      Push-Pull,  Digital
                     325         ; P0.7  -  Unassigned,  Open-Drain, Digital
                     326                         
0006 75E104          327              mov  XBR0, #004h
0009 75E294          328              mov  XBR1, #094h
000C 75E344          329              mov  XBR2, #044h
                     330     
                     331     ; Port configuration (1 = Push Pull Output)
000F 75A445          332              mov P0MDOUT,#045h   ; Output configuration for P0 
0012 75A5FF          333              mov P1MDOUT,#0FFh   ; Output configuration for P1 - Tout en Push-Pull
0015 75A600          334              mov P2MDOUT,#000h   ; Output configuration for P2 
0018 75A700          335              mov P3MDOUT,#000h   ; Output configuration for P3 
001B 43B080          336                      orl P3,#80H         ; P3.7 en entrée pour gstion INT7
001E 75B5FF          337              mov P74OUT,#0FFh    ; P4, P5, P6 et P7 configurés en Push Pull
0021 75BDFF          338              mov P1MDIN,#0FFh    ; Pas d'entrée analogique sur P1
0024 7584DF          339              mov P4,#0DFh        ; ALE à 0 en dehors des cycles mémoires
                     340     
                     341     ; Configure External Memory Configuration
0027 75A326          342              mov EMI0CF, #026h   ; External Memory Configuration Register
002A 75A1BA          343              mov EMI0TC, #0BAh   ; External Memory Configuration Register
                     344     
                     345     ; Oscillator Configuration
002D 75B167          346              mov OSCXCN, #067h   ; External Oscillator Control Register     
0030 E4              347              clr A               ;osc
0031 D5E0FD          348              djnz ACC, $         ;wait for
0034 D5E0FD          349              djnz ACC, $         ;at least 1ms
0037                 350     OX_WAIT:
0037 E5B1            351              mov A, OSCXCN
0039 30E7FB          352              jnb ACC.7, OX_WAIT  ;poll XTLVLD
003C 75B208          353              mov OSCICN, #008h   ; Internal Oscillator Control Register
                     354                                  ; On bascule sur l'oscillateur externe 
                     355                                  ; à 22118400            
003F 75EF00          356              mov RSTSRC, #000h   ; Reset Source Register
0042 22              357              ret
                     358     
                     359     ;******************************************************************************
                     360     ; Gestion du Timer 3
                     361     ; Routines permettant de mettre en oeuvre le timer 3
                     362     ;
                     363     ;******************************************************************************
                     364     
                     365     ;******************************************************************************            
                                 
                     366     ; Config_Timer3_BT
                     367     ;
                     368     ; Description: Sous-programme configurant le Timer3 pour fonctionner en
                     369     ;              Re-chargement automatique. Le timer va générer un overflow 
                     370     ;              toutes les ((65535-N) * 0.542) micro-secondes 
                     371     ;              (Avec SYSCLK = 22,1184 MHz)
                     372     ;              ;Interruption Timer3 autorisée - Priorié basse
                     373     ;
                     374     ; Paramètres d'entrée:  N dans R6(MSB) et R7(LSB)
                     375     ; Paramètres de sortie: aucun
                     376     ; Registres modifiés: TMR3RLL,TMR3RLH,TMR3H,TMR3L,TMR3CN
                     377     ; Pile: 0 octet (sauf pour l'appel de la sous -routine)
                     378     ;******************************************************************************
                     379     ; ATTENTION!!!   Il est impératif de remettre à zéro, par programme, le 
                     380     ;*************   Timer3 Overflow Flag.  
                     381     ;******************************************************************************
                     382     
0043                 383     Config_Timer3_BT:
                     384     
                     385     
0043 8F92            386              mov TMR3RLL, R7   ; Timer 3 Reload Register Low Byte
0045 8E93            387              mov TMR3RLH, R6   ; Timer 3 Reload Register High Byte
A51 MACRO ASSEMBLER  LIB_PROJ_ELN3                                                        06/11/2021 11:54:54 PAGE     7

0047 8E95            388              mov TMR3H, R6     ; Timer 3 High Byte
0049 8F94            389              mov TMR3L, R7     ; Timer 3 Low Byte
004B 759104          390              mov TMR3CN, #004h ; Timer 3 Control Register
004E 43E701          391                      orl EIE2,#00000001B ; Int Timer 3 validée
0051 53F7FE          392                      anl EIP2,#11111110B  ; Priorité basse sut INT Timer3
0054 22              393             ret
                     394     ;******************************************************************************            
                                 
                     395     ; Config_Timer3_BT_10ms
                     396     ;
                     397     ; Description: Sous-programme configurant le Timer3 pour fonctionner en
                     398     ;              Re-chargement automatique avec une récurrence de 10ms
                     399     ;              Interruption Timer3 autorisée- Priorié basse
                     400     ;              Valable pour SYSCLK: 22,1184 MHz
                     401     ;          
                     402     ; Paramètres d'entrée:  aucun
                     403     ; Paramètres de sortie: aucun
                     404     ; Registres modifiés: TMR3RLL,TMR3RLH,TMR3H,TMR3L,TMR3CN
                     405     ; Pile: 0 octet (sauf pour l'appel de la sous -routine)
                     406     ;******************************************************************************
                     407     ; ATTENTION!!!   Il est impératif de remettre à zéro, par programme, le 
                     408     ;*************   Timer3 Overflow Flag.  
                     409     ;******************************************************************************
                     410     
0055                 411     Config_Timer3_BT_10ms:
                     412     
0055 759200          413              mov TMR3RLL, #0H   ; Timer 3 Reload Register Low Byte
0058 7593B8          414              mov TMR3RLH,#0B8H   ; Timer 3 Reload Register High Byte
005B 7595B8          415              mov TMR3H, #0B8H    ; Timer 3 High Byte
005E 759400          416              mov TMR3L, #00H     ; Timer 3 Low Byte
0061 759104          417              mov TMR3CN, #004h ; Timer 3 Control Register
0064 43E701          418                      orl EIE2,#00000001B ; Int Timer 3 validée
0067 53F7FE          419                      anl EIP2,#11111110B  ; Priorité basse sut INT Timer3
006A 22              420              ret
                     421     
                     422     ;******************************************************************************            
                                 
                     423     ; Config_UART0
                     424     ;
                     425     ; Description: Configuration de UART0
                     426     ;              Fonctionnement en asynchrone à 115200 baud
                     427     ;              Utilisation du Timer 1 comme source horloge
                     428     ; Paramètres d'entrée:  aucun
                     429     ; Paramètres de sortie: aucun
                     430     ; Registres modifiés: 
                     431     ; Pile: 0 octet (sauf pour l'appel de la sous -routine)
                     432     ;******************************************************************************
                     433     ; ATTENTION!!!   Il est impératif de remettre à zéro, par programme, le 
                     434     ;*************   Timer3 Overflow Flag.  
                     435     ;******************************************************************************
006B                 436     Config_UART0:
006B 758E10          437         mov  CKCON,     #010h ;Disable Baud rate/2 
006E 758840          438         mov  TCON,      #040h ; Config Timer1
0071 758920          439         mov  TMOD,      #020h
0074 758DF4          440         mov  TH1,       #0F4h ; Baud rate = 115200 Bd avec CLK = 22118400
0077                 441     UART_Init:
0077 758780          442         mov  PCON,      #080h
007A 759872          443         mov  SCON0,     #072h
007D 22              444         ret
                     445     
                     446     ;******************************************************************************            
                                 
                     447     ; Putchar_UART0
                     448     ;
                     449     ; Description: Envoi d'un caractère sur la liaison UART0
                     450     ;            
A51 MACRO ASSEMBLER  LIB_PROJ_ELN3                                                        06/11/2021 11:54:54 PAGE     8

                     451     ;              
                     452     ; Paramètres d'entrée:  R7 - caractère à emettre 
                     453     ; Paramètres de sortie: aucun
                     454     ; Registres modifiés: 
                     455     ; Pile: 0 octet (sauf pour l'appel de la sous -routine)
                     456     ;******************************************************************************
007E                 457     Putchar_UART0:
007E                 458     Send_Char:
007E 3099FD          459             JNB   TI,Putchar_UART0
0081 C299            460                     CLR   TI 
0083 8F99            461                     MOV   SBUF0,R7
0085 22              462             ret
                     463     ;******************************************************************************            
                                 
                     464     ; Getchar_UART0
                     465     ;
                     466     ; Description: Lecture du caractère reçu sur l'UART0
                     467     ;            
                     468     ;              
                     469     ; Paramètres d'entrée:  aucun 
                     470     ; Paramètres de sortie: R7 contient le caractère reçu. 
                     471     ; si pas de caractère reçu alors valeur retournée = FFH
                     472     ; Registres modifiés: 
                     473     ; Pile: 0 octet (sauf pour l'appel de la sous -routine)
                     474     ;******************************************************************************
0086                 475     Getchar_UART0:
0086 309806          476             JNB    RI,Getchar_UART0_no_char_received
0089 C298            477                     CLR    RI
008B AF99            478                     MOV   R7,SBUF0
008D 8002            479             JMP   END_Getchar_UART0
008F                 480     Getchar_UART0_no_char_received:
008F 7FFF            481             MOV   R7,#0FFH
0091                 482     END_Getchar_UART0:
0091 22              483             RET             
                     484     ;******************************************************************************
                     485     ;******************************************************************************
                     486     ; __tempo
                     487     ;
                     488     ; Description: Sous -programme produisant une temporisation logicielle
                     489     ;              paramétrable par la variable csg_tempo.
                     490     ;              La temporisation générée est égale à csg_tempo micro-secondes.
                     491     ;              ATTENTION: csg_tempo ne doit pas être inférieure à 2
                     492     ;
                     493     ; Paramètres d'entrée:  csg_tempo dans R6(MSB) et R7(LSB)
                     494     ; Paramètres de sortie: aucun
                     495     ; Registres modifiés: R6 et R7
                     496     ; Pile: 2 octets 
                     497     ;******************************************************************************
0092                 498     __tempo:
0092 C0E0            499             PUSH  ACC
0094 ED              500             MOV   A,R5
0095 C0E0            501             PUSH  ACC
0097 EF              502             MOV  A,R7
0098 1F              503             DEC  R7
0099 7001            504             JNZ   ?C0006
009B 1E              505             DEC   R6
009C                 506     ?C0006:
009C                 507     ?C0001:
009C EF              508              MOV  A,R7
009D 4E              509              ORL  A,R6
009E 600D            510              JZ   ?C0005
                     511     
00A0 EF              512              MOV  A,R7
00A1 1F              513              DEC  R7
00A2 7001            514              JNZ  ?C0007
00A4 1E              515              DEC  R6
A51 MACRO ASSEMBLER  LIB_PROJ_ELN3                                                        06/11/2021 11:54:54 PAGE     9

00A5                 516     ?C0007:
00A5 7D01            517              MOV  R5,#01H
00A7                 518     ?C0003:
00A7 ED              519              MOV  A,R5
00A8 60F2            520              JZ   ?C0001
00AA 1D              521              DEC  R5
00AB 80FA            522              SJMP ?C0003
00AD                 523     ?C0005:
00AD D0E0            524              POP ACC
00AF ADE0            525              MOV R5,ACC
00B1 D0E0            526              POP ACC
00B3 22              527              RET    
                     528           
                     529     end
A51 MACRO ASSEMBLER  LIB_PROJ_ELN3                                                        06/11/2021 11:54:54 PAGE    10

SYMBOL TABLE LISTING
------ ----- -------


N A M E                         T Y P E  V A L U E   ATTRIBUTES

?C0001 . . . . . . . . . . . .  C ADDR   009CH   R   SEG=LIB_PROJ_ELN3
?C0003 . . . . . . . . . . . .  C ADDR   00A7H   R   SEG=LIB_PROJ_ELN3
?C0005 . . . . . . . . . . . .  C ADDR   00ADH   R   SEG=LIB_PROJ_ELN3
?C0006 . . . . . . . . . . . .  C ADDR   009CH   R   SEG=LIB_PROJ_ELN3
?C0007 . . . . . . . . . . . .  C ADDR   00A5H   R   SEG=LIB_PROJ_ELN3
AA . . . . . . . . . . . . . .  B ADDR   00C0H.2 A   
AC . . . . . . . . . . . . . .  B ADDR   00D0H.6 A   
ACC. . . . . . . . . . . . . .  D ADDR   00E0H   A   
AD0BUSY. . . . . . . . . . . .  B ADDR   00E8H.4 A   
AD0EN. . . . . . . . . . . . .  B ADDR   00E8H.7 A   
AD0INT . . . . . . . . . . . .  B ADDR   00E8H.5 A   
AD0LJST. . . . . . . . . . . .  B ADDR   00E8H.0 A   
AD0STM0. . . . . . . . . . . .  B ADDR   00E8H.2 A   
AD0STM1. . . . . . . . . . . .  B ADDR   00E8H.3 A   
AD0TM. . . . . . . . . . . . .  B ADDR   00E8H.6 A   
AD0WINT. . . . . . . . . . . .  B ADDR   00E8H.1 A   
ADC0CF . . . . . . . . . . . .  D ADDR   00BCH   A   
ADC0CN . . . . . . . . . . . .  D ADDR   00E8H   A   
ADC0GTH. . . . . . . . . . . .  D ADDR   00C5H   A   
ADC0GTL. . . . . . . . . . . .  D ADDR   00C4H   A   
ADC0H. . . . . . . . . . . . .  D ADDR   00BFH   A   
ADC0L. . . . . . . . . . . . .  D ADDR   00BEH   A   
ADC0LTH. . . . . . . . . . . .  D ADDR   00C7H   A   
ADC0LTL. . . . . . . . . . . .  D ADDR   00C6H   A   
ADC1 . . . . . . . . . . . . .  D ADDR   009CH   A   
ADC1CF . . . . . . . . . . . .  D ADDR   00ABH   A   
ADC1CN . . . . . . . . . . . .  D ADDR   00AAH   A   
AMX0CF . . . . . . . . . . . .  D ADDR   00BAH   A   
AMX0SL . . . . . . . . . . . .  D ADDR   00BBH   A   
AMX1SL . . . . . . . . . . . .  D ADDR   00ACH   A   
B. . . . . . . . . . . . . . .  D ADDR   00F0H   A   
CCF0 . . . . . . . . . . . . .  B ADDR   00D8H.0 A   
CCF1 . . . . . . . . . . . . .  B ADDR   00D8H.1 A   
CCF2 . . . . . . . . . . . . .  B ADDR   00D8H.2 A   
CCF3 . . . . . . . . . . . . .  B ADDR   00D8H.3 A   
CCF4 . . . . . . . . . . . . .  B ADDR   00D8H.4 A   
CF . . . . . . . . . . . . . .  B ADDR   00D8H.7 A   
CKCON. . . . . . . . . . . . .  D ADDR   008EH   A   
CONFIG_TIMER3_BT . . . . . . .  C ADDR   0043H   R   SEG=LIB_PROJ_ELN3
CONFIG_TIMER3_BT_10MS. . . . .  C ADDR   0055H   R   SEG=LIB_PROJ_ELN3
CONFIG_UART0 . . . . . . . . .  C ADDR   006BH   R   SEG=LIB_PROJ_ELN3
CPRL2. . . . . . . . . . . . .  B ADDR   00C8H.0 A   
CPT0CN . . . . . . . . . . . .  D ADDR   009EH   A   
CPT1CN . . . . . . . . . . . .  D ADDR   009FH   A   
CR . . . . . . . . . . . . . .  B ADDR   00D8H.6 A   
CT2. . . . . . . . . . . . . .  B ADDR   00C8H.1 A   
CY . . . . . . . . . . . . . .  B ADDR   00D0H.7 A   
DAC0CN . . . . . . . . . . . .  D ADDR   00D4H   A   
DAC0H. . . . . . . . . . . . .  D ADDR   00D3H   A   
DAC0L. . . . . . . . . . . . .  D ADDR   00D2H   A   
DAC1CN . . . . . . . . . . . .  D ADDR   00D7H   A   
DAC1H. . . . . . . . . . . . .  D ADDR   00D6H   A   
DAC1L. . . . . . . . . . . . .  D ADDR   00D5H   A   
DPH. . . . . . . . . . . . . .  D ADDR   0083H   A   
DPL. . . . . . . . . . . . . .  D ADDR   0082H   A   
EA . . . . . . . . . . . . . .  B ADDR   00A8H.7 A   
EIE1 . . . . . . . . . . . . .  D ADDR   00E6H   A   
EIE2 . . . . . . . . . . . . .  D ADDR   00E7H   A   
EIP1 . . . . . . . . . . . . .  D ADDR   00F6H   A   
EIP2 . . . . . . . . . . . . .  D ADDR   00F7H   A   
A51 MACRO ASSEMBLER  LIB_PROJ_ELN3                                                        06/11/2021 11:54:54 PAGE    11

EMI0CF . . . . . . . . . . . .  D ADDR   00A3H   A   
EMI0CN . . . . . . . . . . . .  D ADDR   00AFH   A   
EMI0TC . . . . . . . . . . . .  D ADDR   00A1H   A   
END_GETCHAR_UART0. . . . . . .  C ADDR   0091H   R   SEG=LIB_PROJ_ELN3
ENSMB. . . . . . . . . . . . .  B ADDR   00C0H.6 A   
ES . . . . . . . . . . . . . .  B ADDR   00A8H.4 A   
ET0. . . . . . . . . . . . . .  B ADDR   00A8H.1 A   
ET1. . . . . . . . . . . . . .  B ADDR   00A8H.3 A   
ET2. . . . . . . . . . . . . .  B ADDR   00A8H.5 A   
EX0. . . . . . . . . . . . . .  B ADDR   00A8H.0 A   
EX1. . . . . . . . . . . . . .  B ADDR   00A8H.2 A   
EXEMPLE. . . . . . . . . . . .  D ADDR   0000H   R   SEG=ZONE_DATA
EXEN2. . . . . . . . . . . . .  B ADDR   00C8H.3 A   
EXF2 . . . . . . . . . . . . .  B ADDR   00C8H.6 A   
F0 . . . . . . . . . . . . . .  B ADDR   00D0H.5 A   
F1 . . . . . . . . . . . . . .  B ADDR   00D0H.1 A   
FLACL. . . . . . . . . . . . .  D ADDR   00B7H   A   
FLSCL. . . . . . . . . . . . .  D ADDR   00B6H   A   
GETCHAR_UART0. . . . . . . . .  C ADDR   0086H   R   SEG=LIB_PROJ_ELN3
GETCHAR_UART0_NO_CHAR_RECEIVED  C ADDR   008FH   R   SEG=LIB_PROJ_ELN3
GREEN_LED. . . . . . . . . . .  B ADDR   0090H.6 A   
IE . . . . . . . . . . . . . .  D ADDR   00A8H   A   
IE0. . . . . . . . . . . . . .  B ADDR   0088H.1 A   
IE1. . . . . . . . . . . . . .  B ADDR   0088H.3 A   
INIT_PGM . . . . . . . . . . .  C ADDR   0000H   R   SEG=LIB_PROJ_ELN3
IP . . . . . . . . . . . . . .  D ADDR   00B8H   A   
IT0. . . . . . . . . . . . . .  B ADDR   0088H.0 A   
IT1. . . . . . . . . . . . . .  B ADDR   0088H.2 A   
LIB_PROJ_ELN3. . . . . . . . .  C SEG    00B4H       REL=UNIT
MODF . . . . . . . . . . . . .  B ADDR   00F8H.5 A   
MSTEN. . . . . . . . . . . . .  B ADDR   00F8H.1 A   
OSCICN . . . . . . . . . . . .  D ADDR   00B2H   A   
OSCXCN . . . . . . . . . . . .  D ADDR   00B1H   A   
OV . . . . . . . . . . . . . .  B ADDR   00D0H.2 A   
OX_WAIT. . . . . . . . . . . .  C ADDR   0037H   R   SEG=LIB_PROJ_ELN3
P. . . . . . . . . . . . . . .  B ADDR   00D0H.0 A   
P0 . . . . . . . . . . . . . .  D ADDR   0080H   A   
P0MDOUT. . . . . . . . . . . .  D ADDR   00A4H   A   
P1 . . . . . . . . . . . . . .  D ADDR   0090H   A   
P1MDIN . . . . . . . . . . . .  D ADDR   00BDH   A   
P1MDOUT. . . . . . . . . . . .  D ADDR   00A5H   A   
P2 . . . . . . . . . . . . . .  D ADDR   00A0H   A   
P2MDOUT. . . . . . . . . . . .  D ADDR   00A6H   A   
P3 . . . . . . . . . . . . . .  D ADDR   00B0H   A   
P3IF . . . . . . . . . . . . .  D ADDR   00ADH   A   
P3MDOUT. . . . . . . . . . . .  D ADDR   00A7H   A   
P4 . . . . . . . . . . . . . .  D ADDR   0084H   A   
P5 . . . . . . . . . . . . . .  D ADDR   0085H   A   
P6 . . . . . . . . . . . . . .  D ADDR   0086H   A   
P7 . . . . . . . . . . . . . .  D ADDR   0096H   A   
P74OUT . . . . . . . . . . . .  D ADDR   00B5H   A   
PCA0CN . . . . . . . . . . . .  D ADDR   00D8H   A   
PCA0CPH0 . . . . . . . . . . .  D ADDR   00FAH   A   
PCA0CPH1 . . . . . . . . . . .  D ADDR   00FBH   A   
PCA0CPH2 . . . . . . . . . . .  D ADDR   00FCH   A   
PCA0CPH3 . . . . . . . . . . .  D ADDR   00FDH   A   
PCA0CPH4 . . . . . . . . . . .  D ADDR   00FEH   A   
PCA0CPL0 . . . . . . . . . . .  D ADDR   00EAH   A   
PCA0CPL1 . . . . . . . . . . .  D ADDR   00EBH   A   
PCA0CPL2 . . . . . . . . . . .  D ADDR   00ECH   A   
PCA0CPL3 . . . . . . . . . . .  D ADDR   00EDH   A   
PCA0CPL4 . . . . . . . . . . .  D ADDR   00EEH   A   
PCA0CPM0 . . . . . . . . . . .  D ADDR   00DAH   A   
PCA0CPM1 . . . . . . . . . . .  D ADDR   00DBH   A   
PCA0CPM2 . . . . . . . . . . .  D ADDR   00DCH   A   
PCA0CPM3 . . . . . . . . . . .  D ADDR   00DDH   A   
A51 MACRO ASSEMBLER  LIB_PROJ_ELN3                                                        06/11/2021 11:54:54 PAGE    12

PCA0CPM4 . . . . . . . . . . .  D ADDR   00DEH   A   
PCA0H. . . . . . . . . . . . .  D ADDR   00F9H   A   
PCA0L. . . . . . . . . . . . .  D ADDR   00E9H   A   
PCA0MD . . . . . . . . . . . .  D ADDR   00D9H   A   
PCON . . . . . . . . . . . . .  D ADDR   0087H   A   
PS . . . . . . . . . . . . . .  B ADDR   00B8H.4 A   
PSCTL. . . . . . . . . . . . .  D ADDR   008FH   A   
PSW. . . . . . . . . . . . . .  D ADDR   00D0H   A   
PT0. . . . . . . . . . . . . .  B ADDR   00B8H.1 A   
PT1. . . . . . . . . . . . . .  B ADDR   00B8H.3 A   
PT2. . . . . . . . . . . . . .  B ADDR   00B8H.5 A   
PUTCHAR_UART0. . . . . . . . .  C ADDR   007EH   R   SEG=LIB_PROJ_ELN3
PX0. . . . . . . . . . . . . .  B ADDR   00B8H.0 A   
PX1. . . . . . . . . . . . . .  B ADDR   00B8H.2 A   
RB8. . . . . . . . . . . . . .  B ADDR   0098H.2 A   
RCAP2H . . . . . . . . . . . .  D ADDR   00CBH   A   
RCAP2L . . . . . . . . . . . .  D ADDR   00CAH   A   
RCAP4H . . . . . . . . . . . .  D ADDR   00E5H   A   
RCAP4L . . . . . . . . . . . .  D ADDR   00E4H   A   
RCLK . . . . . . . . . . . . .  B ADDR   00C8H.5 A   
REF0CN . . . . . . . . . . . .  D ADDR   00D1H   A   
REG_AFF. . . . . . . . . . . .  X ADDR   1000H   A   
REG_GCA. . . . . . . . . . . .  X ADDR   4000H   A   
REG_GCP. . . . . . . . . . . .  X ADDR   1001H   A   
REG_GDD. . . . . . . . . . . .  X ADDR   4001H   A   
REG_MISC . . . . . . . . . . .  X ADDR   1002H   A   
REN. . . . . . . . . . . . . .  B ADDR   0098H.4 A   
RI . . . . . . . . . . . . . .  B ADDR   0098H.0 A   
RS0. . . . . . . . . . . . . .  B ADDR   00D0H.3 A   
RS1. . . . . . . . . . . . . .  B ADDR   00D0H.4 A   
RSTSRC . . . . . . . . . . . .  D ADDR   00EFH   A   
RXOVRN . . . . . . . . . . . .  B ADDR   00F8H.4 A   
SADDR0 . . . . . . . . . . . .  D ADDR   00A9H   A   
SADDR1 . . . . . . . . . . . .  D ADDR   00F3H   A   
SADEN0 . . . . . . . . . . . .  D ADDR   00B9H   A   
SADEN1 . . . . . . . . . . . .  D ADDR   00AEH   A   
SBUF0. . . . . . . . . . . . .  D ADDR   0099H   A   
SBUF1. . . . . . . . . . . . .  D ADDR   00F2H   A   
SCON0. . . . . . . . . . . . .  D ADDR   0098H   A   
SCON1. . . . . . . . . . . . .  D ADDR   00F1H   A   
SEND_CHAR. . . . . . . . . . .  C ADDR   007EH   R   SEG=LIB_PROJ_ELN3
SI . . . . . . . . . . . . . .  B ADDR   00C0H.3 A   
SLVSEL . . . . . . . . . . . .  B ADDR   00F8H.2 A   
SM0. . . . . . . . . . . . . .  B ADDR   0098H.7 A   
SM1. . . . . . . . . . . . . .  B ADDR   0098H.6 A   
SM2. . . . . . . . . . . . . .  B ADDR   0098H.5 A   
SMB0ADR. . . . . . . . . . . .  D ADDR   00C3H   A   
SMB0CN . . . . . . . . . . . .  D ADDR   00C0H   A   
SMB0CR . . . . . . . . . . . .  D ADDR   00CFH   A   
SMB0DAT. . . . . . . . . . . .  D ADDR   00C2H   A   
SMB0STA. . . . . . . . . . . .  D ADDR   00C1H   A   
SMBFTE . . . . . . . . . . . .  B ADDR   00C0H.1 A   
SMBTOE . . . . . . . . . . . .  B ADDR   00C0H.0 A   
SP . . . . . . . . . . . . . .  D ADDR   0081H   A   
SPI0CFG. . . . . . . . . . . .  D ADDR   009AH   A   
SPI0CKR. . . . . . . . . . . .  D ADDR   009DH   A   
SPI0CN . . . . . . . . . . . .  D ADDR   00F8H   A   
SPI0DAT. . . . . . . . . . . .  D ADDR   009BH   A   
SPIEN. . . . . . . . . . . . .  B ADDR   00F8H.0 A   
SPIF . . . . . . . . . . . . .  B ADDR   00F8H.7 A   
STA. . . . . . . . . . . . . .  B ADDR   00C0H.5 A   
STO. . . . . . . . . . . . . .  B ADDR   00C0H.4 A   
T2CON. . . . . . . . . . . . .  D ADDR   00C8H   A   
T4CON. . . . . . . . . . . . .  D ADDR   00C9H   A   
TB8. . . . . . . . . . . . . .  B ADDR   0098H.3 A   
TCLK . . . . . . . . . . . . .  B ADDR   00C8H.4 A   
A51 MACRO ASSEMBLER  LIB_PROJ_ELN3                                                        06/11/2021 11:54:54 PAGE    13

TCON . . . . . . . . . . . . .  D ADDR   0088H   A   
TF0. . . . . . . . . . . . . .  B ADDR   0088H.5 A   
TF1. . . . . . . . . . . . . .  B ADDR   0088H.7 A   
TF2. . . . . . . . . . . . . .  B ADDR   00C8H.7 A   
TH0. . . . . . . . . . . . . .  D ADDR   008CH   A   
TH1. . . . . . . . . . . . . .  D ADDR   008DH   A   
TH2. . . . . . . . . . . . . .  D ADDR   00CDH   A   
TH4. . . . . . . . . . . . . .  D ADDR   00F5H   A   
TI . . . . . . . . . . . . . .  B ADDR   0098H.1 A   
TL0. . . . . . . . . . . . . .  D ADDR   008AH   A   
TL1. . . . . . . . . . . . . .  D ADDR   008BH   A   
TL2. . . . . . . . . . . . . .  D ADDR   00CCH   A   
TL4. . . . . . . . . . . . . .  D ADDR   00F4H   A   
TMOD . . . . . . . . . . . . .  D ADDR   0089H   A   
TMR3CN . . . . . . . . . . . .  D ADDR   0091H   A   
TMR3H. . . . . . . . . . . . .  D ADDR   0095H   A   
TMR3L. . . . . . . . . . . . .  D ADDR   0094H   A   
TMR3RLH. . . . . . . . . . . .  D ADDR   0093H   A   
TMR3RLL. . . . . . . . . . . .  D ADDR   0092H   A   
TR0. . . . . . . . . . . . . .  B ADDR   0088H.4 A   
TR1. . . . . . . . . . . . . .  B ADDR   0088H.6 A   
TR2. . . . . . . . . . . . . .  B ADDR   00C8H.2 A   
TXBSY. . . . . . . . . . . . .  B ADDR   00F8H.3 A   
UART_INIT. . . . . . . . . . .  C ADDR   0077H   R   SEG=LIB_PROJ_ELN3
WCOL . . . . . . . . . . . . .  B ADDR   00F8H.6 A   
WDTCN. . . . . . . . . . . . .  D ADDR   00FFH   A   
XBR0 . . . . . . . . . . . . .  D ADDR   00E1H   A   
XBR1 . . . . . . . . . . . . .  D ADDR   00E2H   A   
XBR2 . . . . . . . . . . . . .  D ADDR   00E3H   A   
ZONE_DATA. . . . . . . . . . .  D SEG    0001H       REL=UNIT
__TEMPO. . . . . . . . . . . .  C ADDR   0092H   R   SEG=LIB_PROJ_ELN3


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
